async function loadMeetingNotes() {
    const container = document.getElementById('notes-grid'); 
    try {
        // Step 1: Fetch from your 'contents/notes' folder
        const response = await fetch('https://api.github.com/repos/IHCC-Cyber-Club/Club-Website/contents/contents/notes');
        
        if (!response.ok) throw new Error('Could not reach GitHub');
        
        const files = await response.json();
        
        // Step 2: Filter for the NEW .html files and sort by date (newest first)
        const htmlFiles = files.filter(f => f.name.endsWith('.html') && f.name !== 'index.html');
        htmlFiles.sort((a, b) => b.name.localeCompare(a.name));

        container.innerHTML = ''; // Clear the "Loading" or "Empty" message

        if (htmlFiles.length === 0) {
            container.innerHTML = '<p style="grid-column: 1/-1; text-align: center;">Archive is currently empty.</p>';
            return;
        }

        for (const file of htmlFiles) {
            // Step 3: Clean up the filename for the card title
            // e.g., "jan-5-2026.html" becomes "Jan 5 2026"
            const displayName = file.name.replace('.html', '').replace(/-/g, ' ');
            
            const card = `
                <div class="card" style="text-align: left; padding: 20px; min-height: auto;">
                    <h3 style="color: #00f2ff; font-family: 'Orbitron'; font-size: 16px; text-transform: capitalize; margin-bottom: 15px;">
                        ${displayName}
                    </h3>
                    <a class="btn secondary" href="contents/notes/${file.name}" style="display: inline-block; font-size: 10px; padding: 8px 15px; background: #00f2ff; color: #000; text-decoration: none; font-family: 'Orbitron'; font-weight: 900;">
                        Read Minutes
                    </a>
                </div>`;
            container.insertAdjacentHTML('beforeend', card);
        }
    } catch (e) {
        console.error(e);
        container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #ff4b4b;">Unable to connect to GitHub. Please refresh.</p>';
    }
}
document.addEventListener('DOMContentLoaded', loadMeetingNotes);