async function loadMeetingNotes() {
    const container = document.getElementById('notes-grid'); 
    try {
        // Updated to fetch from the root /notes folder
        const response = await fetch('https://api.github.com/repos/IHCC-Cyber-Club/Club-Website/contents/notes');
        
        if (!response.ok) throw new Error('Could not reach GitHub');
        
        const files = await response.json();
        
        // Filtering for .html files in the root /notes folder
        const htmlFiles = files.filter(f => f.name.endsWith('.html'));
        htmlFiles.sort((a, b) => b.name.localeCompare(a.name));

        container.innerHTML = ''; 

        if (htmlFiles.length === 0) {
            container.innerHTML = '<p style="grid-column: 1/-1; text-align: center;">Archive is currently empty.</p>';
            return;
        }

        for (const file of htmlFiles) {
            const displayName = file.name.replace('.html', '').replace(/-/g, ' ');
            
            const card = `
                <div class="card" style="text-align: left; padding: 20px; min-height: auto;">
                    <h3 style="color: #00f2ff; font-family: 'Orbitron'; font-size: 16px; text-transform: capitalize; margin-bottom: 15px;">
                        ${displayName}
                    </h3>
                    <a class="btn secondary" href="notes/${file.name}" style="display: inline-block; font-size: 10px; padding: 8px 15px; background: #00f2ff; color: #000; text-decoration: none; font-family: 'Orbitron'; font-weight: 900;">
                        Read Minutes
                    </a>
                </div>`;
            container.insertAdjacentHTML('beforeend', card);
        }
    } catch (e) {
        container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #ff4b4b;">Unable to connect to GitHub.</p>';
    }
}
document.addEventListener('DOMContentLoaded', loadMeetingNotes);